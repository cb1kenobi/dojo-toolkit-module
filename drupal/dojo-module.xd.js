/*
	Copyright (c) 2004-2007, The Dojo Foundation
	All Rights Reserved.

	Licensed under the Academic Free License version 2.1 or above OR the
	modified BSD license. For more information on Dojo licensing, see:

		http://dojotoolkit.org/community/licensing.shtml
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

dojo._xdResourceLoaded({depends:[["provide","drupal.PleaseWait"],["provide","drupal.data.SvnStore"],["provide","drupal.form.AutoComplete"],["provide","drupal.form.CustomizeToolbar"],["provide","drupal.form.Editor"],["provide","drupal.form.GoogleMapKeyTable"],["provide","drupal.form.SvnTree"],["provide","drupal.layout.CollapsiblePane"],["provide","drupal.drupal"]],defineResource:function(_1){if(!_1._hasResource["drupal.PleaseWait"]){_1._hasResource["drupal.PleaseWait"]=true;_1.provide("drupal.PleaseWait");_1.declare("drupal.PleaseWait",[dijit._Widget,dijit._Templated],{templateString:"<span id=\"Shib\"><input dojoAttachPoint=\"_button\" type=\"button\" /><div dojoAttachPoint=\"_contents\"><span class=\"Indicator\">Please wait...</span></div></span>",_button:null,_contents:null,_dialog:null,_form:null,postCreate:function(){var n=this.domNode;while(n&&n.parentNode&&n.tagName.toLowerCase()!="form"){n=n.parentNode;}if(n){this._form=n;}var _3=this.srcNodeRef;this._button.id=_3.id;this._button.name=_3.name;this._button.value=_3.value;this._button.className=_3.className;_1.connect(this._button,"onclick",this,"_showDialog");this._dialog=new dijit.Dialog({templateString:"<div class=\"dijitDialogBox\"><div dojoAttachPoint=\"containerNode\"></div></div>",},this._contents);},_showDialog:function(_4){_1.stopEvent(_4);this._dialog.show();setTimeout(_1.hitch(this,"_submitForm"),500);},_submitForm:function(){if(this._form){this._form.submit();}}});}if(!_1._hasResource["drupal.data.SvnStore"]){_1._hasResource["drupal.data.SvnStore"]=true;_1.provide("drupal.data.SvnStore");_1.declare("drupal.data.SvnStore",_1.data.ItemFileWriteStore,{isItemLoaded:function(_5){if(this.getValue(_5,"type")==="stub"){return false;}return true;},loadItem:function(_6){var _7=_6.item;this._assertIsItem(_7);var _8=this.getValue(_7,"path");var _9=this;var d=_1.xhrGet({url:this._jsonFileUrl+_8,handleAs:"json-comment-optional"});d.addCallback(function(_b){_9.fetchItemByIdentity({identity:_8,onItem:function(_c){_1.forEach(_9.getValues(_c,"children"),function(_d){_9.deleteItem(_d);});_9.unsetAttribute(_c,"children");for(var i=0;i<_b.length;i++){var _f=_9.newItem(_b[i],{parent:_c,attribute:"children"});var _10=_9.getAttributes(_f);for(var a in _10){var _12=_9.getValues(_f,_10[a]);for(var j=0;j<_12.length;j++){var _14=_12[j];if(typeof _14==="object"&&_14["type"]=="stub"){for(var k in _14){if(!_1.isArray(_14[k])){_14[k]=[_14[k]];}}_9._arrayOfAllItems.push(_14);_14[_9._storeRefPropName]=_9;_14[_9._itemNumPropName]=_9._arrayOfAllItems.length-1;_12[j]=_14;}}}}if(_6.onItem){var _16=_6.scope?_6.scope:_1.global;_6.onItem.call(_16,null);}}});});d.addErrback(function(_17){if(_6.onError){var _18=_6.scope?_6.scope:_1.global;_6.onError.call(_18,_17);}});}});}if(!_1._hasResource["drupal.form.AutoComplete"]){_1._hasResource["drupal.form.AutoComplete"]=true;_1.provide("drupal.form.AutoComplete");_1.declare("drupal.form.AutoComplete",dijit._Widget,{url:"",cacheItemsCap:9,_popup:null,_toggler:null,_xhr:null,_anim:null,_selected:null,_cache:[],postCreate:function(){if(this.url[this.url.length-1]!="/"){this.url+="/";}var d=document.createElement("div");d.id="autocomplete";_1.style(d,"display","none");_1.style(d,"opacity",0);_1.place(d,this.domNode,"before");this._popup=d;this._toggler=new _1.fx.Toggler({node:d,hideDuration:300});var n=this.domNode;_1.connect(n,"onkeydown",this,"_onKeyDown");_1.connect(n,"onkeypress",this,"_onKeyPress");_1.connect(n,"onkeyup",this,"_onKeyUp");_1.connect(n,"onblur",this,"_hidePopup");},_onKeyDown:function(evt){if(this._popup){var k=evt.keyCode;if(k==13){_1.stopEvent(evt);this._insert();return false;}else{if(k==9){this._insert();}else{if(k==38||k==40){_1.stopEvent(evt);this._moveSelect(evt,k==38);return false;}}}}return true;},_onKeyPress:function(evt){if(evt.keyCode==13){_1.stopEvent(evt);return false;}return true;},_onKeyUp:function(evt){var k=evt.keyCode;if(k==3||(k>8&&k<32)||(k>32&&k<46)||(k>90&&k<94)||(k>111&&k<146)){_1.stopEvent(evt);if(k==27){this._hidePopup();}return false;}var str=this.domNode.value;if(str.length){this._query(str);}else{this._hidePopup();}return true;},_query:function(str){this._selected=null;if(this._xhr!=null){this._xhr.cancel();this._xhr=null;}if(this._cache[str]){this._showPopup(str);return;}if(str.length>1){var n=this._cache[str.substring(0,str.length-1)];if(n&&n.length<=this.cacheItemsCap){var d=[];for(var i=0;i<n.length;i++){if(n[i].toLowerCase().indexOf(str.toLowerCase())==0){d.push(n[i]);}}this._cache[str]=d;this._showPopup(str);return;}}this._throb(true);var _25=this;this._xhr=_1.xhrGet({url:this.url+escape(str),handleAs:"json",load:function(_26,_27){var d=[];for(var i in _26){d.push(_26[i]);}_25._cache[str]=d;_25._showPopup(str);}});},_showPopup:function(str){this._throb(false);var _2b=this._cache[str];if(_2b.length==0){this._hidePopup();return;}var _2c=_1.style(this._popup,"display")=="none";var d=this._popup;while(d.firstChild){_1._destroyElement(d.firstChild);}var ul=document.createElement("ul");for(var i=0;i<_2b.length;i++){var li=document.createElement("li");li.val=_2b[i];li.innerHTML=_2b[i];ul.appendChild(li);_1.connect(li,"onmousedown",this,"_insert");_1.connect(li,"onmouseover",_1.hitch(this,function(evt){this._highlight(evt.target);}));_1.connect(li,"onmouseout",_1.hitch(this,function(evt){this._unhighlight(evt.target);}));}d.appendChild(ul);this._highlight(_1.query("li",ul)[0]);if(_2c){var dim=_1.coords(this.domNode);d.style.marginTop=dim.h+"px";d.style.width=(dim.w-4)+"px";_1.style(d,"display","");this._toggler.show();}},_hidePopup:function(){this._toggler.hide();_1.style(this._popup,"display","none");},_moveSelect:function(evt,up){if(this._popup){if(!this._selected){this._highlight(_1.query("li:first-child",ul)[0]);}else{var lis=_1.query("li",this._selected.parentNode);for(var i=0;i<lis.length;i++){if(lis[i]==this._selected){if(up&&i>0){this._highlight(lis[--i]);}else{if(!up&&i+1<lis.length){this._highlight(lis[++i]);}}break;}}}}},_insert:function(evt){if(evt||this._selected){if(evt){_1.stopEvent(evt);}var n=evt?evt.target:this._selected;this.domNode.value=n.val;this._hidePopup();}},_highlight:function(n){var s=this._selected;if(s&&_1.hasClass(s,"selected")){_1.removeClass(s,"selected");}_1.addClass(n,"selected");this._selected=n;},_unhighlight:function(n){_1.removeClass(n,"selected");this._selected=null;},_throb:function(_3d){var n=this.domNode;var b=_1.hasClass(n,"throbbing");if(b&&!_3d){_1.removeClass(n,"throbbing");}else{if(!b&&_3d){_1.addClass(n,"throbbing");}}}});}if(!_1._hasResource["drupal.form.CustomizeToolbar"]){_1._hasResource["drupal.form.CustomizeToolbar"]=true;_1.provide("drupal.form.CustomizeToolbar");_1.declare("drupal.form.CustomizeToolbar",[dijit.form._FormWidget,dijit._Templated],{templateString:"<div class=\"dojoCustomizeToolbar\">\n\t<input dojoAttachPoint=\"_inputField\" type=\"hidden\"/>\n\t<div class=\"list\"><ul dojoAttachPoint=\"_availableList\"></ul></div>\n\t<div class=\"buttonColumn\">\n\t\t<input type=\"button\" class=\"button\" dojoAttachPoint=\"_addButton\" dojoAttachEvent=\"onclick:_addItem\" value=\"Add &gt;\"/><br/>\n\t\t<input type=\"button\" class=\"button\" dojoAttachPoint=\"_removeButton\" dojoAttachEvent=\"onclick:_removeItem\" value=\"&lt; Remove\"/><br/>\n\t\t<input type=\"button\" class=\"button\" dojoAttachEvent=\"onclick:_restoreDefaults\" value=\"Defaults\"/>\n\t</div>\n\t<div class=\"list\"><ul dojoAttachPoint=\"_selectedList\"></ul></div>\n\t<div class=\"buttonColumn\">\n\t\t<input type=\"button\" class=\"button\" dojoAttachPoint=\"_moveUpButton\" dojoAttachEvent=\"onclick:_moveItemUp\" value=\"Move Up\"/><br/>\n\t\t<input type=\"button\" class=\"button\" dojoAttachPoint=\"_moveDownButton\" dojoAttachEvent=\"onclick:_moveItemDown\" value=\"Move Down\"/>\n\t</div>\n</div>\n",_inputField:null,_availableList:null,_selectedList:null,_addButton:null,_removeButton:null,_moveUpButton:null,_moveDownButton:null,toolbarPlugins:[],defaultPlugins:[],_selectedItem:null,postCreate:function(){var n=this.srcNodeRef;this._inputField.id=n.id;this._inputField.name=n.name;this._inputField.value=n.value;this._disableButtons();this._populateLists();},_populateLists:function(){var _41=new dojox.collections.ArrayList(this._inputField.value.split(","));_1.query("li",this._availableList).forEach(function(n){_1._destroyElement(n);});_1.query("li",this._selectedList).forEach(function(n){_1._destroyElement(n);});for(var i=0;i<this.toolbarPlugins.length;i++){if(i==0||!_41.contains(i)){this._availableList.appendChild(this._createListItem(i));}}for(var i=0;i<_41.count;i++){this._selectedList.appendChild(this._createListItem(_41.item(i)));}},_createListItem:function(idx){var _46=this.toolbarPlugins[idx];var _47=document.createElement("span");_47.className=(_46.label||_46.stylelist?"":"dijitEditorIcon")+(_46["class"]?" "+_46["class"]:"");if(_46.style){_47.cssText=_46.style;}_47.innerHTML=_46.label?_46.label:"&nbsp;";var _48=document.createElement("span");_48.innerHTML=_46.description;var li=document.createElement("li");li.idx=idx;li.style.clear="both";li.appendChild(_47);li.appendChild(_48);_1.connect(li,"onmousedown",this,"_onClick");return li;},_disableButtons:function(){this._addButton.disabled=true;this._removeButton.disabled=true;this._moveUpButton.disabled=true;this._moveDownButton.disabled=true;},_enableButtons:function(_4a){this._addButton.disabled=_4a;this._removeButton.disabled=!_4a;this._moveUpButton.disabled=!_4a;this._moveDownButton.disabled=!_4a;},_restoreDefaults:function(){this._inputField.value=this.defaultPlugins;this._populateLists();},_onClick:function(evt){var li=evt.target;while(li&&li.parentNode&&li.tagName.toLowerCase()!="li"){li=li.parentNode;}if(!li){return;}if(this._selectedItem){this._selectedItem.className="";this._selectedItem=null;this._disableButtons();}this._selectedItem=li;li.className="selected";this._enableButtons(li.parentNode==this._selectedList);},_scrollToBottom:function(_4d){while(_4d&&_4d.parentNode&&_4d.tagName.toLowerCase()!="div"){_4d=_4d.parentNode;}if(_4d){_4d.scrollTop=999;}},_addItem:function(){if(this._selectedItem){if(this._selectedItem.idx==0){var _4e=this._selectedItem.cloneNode(true);_4e.idx=0;_1.connect(_4e,"onmousedown",this,"_onClick");this._selectedItem.className="";this._selectedItem=_4e;this._selectedList.appendChild(_4e);}else{this._selectedList.appendChild(this._selectedItem);}this._scrollToBottom(this._selectedList);this._enableButtons(true);}this._serializeSelected();},_removeItem:function(){if(this._selectedItem){if(this._selectedItem.idx==0){_1._destroyElement(this._selectedItem);this._selectedItem=null;this._disableButtons();}else{this._availableList.appendChild(this._selectedItem);this._scrollToBottom(this._availableList);this._enableButtons(false);}}this._serializeSelected();},_moveItemUp:function(){if(this._selectedItem){var _4f=this._selectedItem;do{_4f=_4f.previousSibling;}while(_4f&&_4f.nodeType!=1);if(_4f){_1.place(this._selectedItem,_4f,"before");this._serializeSelected();}}},_moveItemDown:function(){if(this._selectedItem){var _50=this._selectedItem;do{_50=_50.nextSibling;}while(_50&&_50.nodeType!=1);if(_50){_1.place(this._selectedItem,_50,"after");this._serializeSelected();}}},_serializeSelected:function(){var _51=[];var lis=this._selectedList.getElementsByTagName("li");for(var i=0;i<lis.length;i++){_51.push(lis[i].idx);}this._inputField.value=_51.join(",");}});}if(!_1._hasResource["drupal.form.Editor"]){_1._hasResource["drupal.form.Editor"]=true;_1.provide("drupal.form.Editor");_1.declare("drupal.form.Editor",dijit._Widget,{showToggle:true,defaultState:false,plugins:null,_styleSheets:null,_textareaID:null,_containerTextArea:null,_containerEditor:null,_editor:null,_toggleLink:null,_grip:null,_offset:0,_mouseMove:null,_mouseUp:null,postCreate:function(){var ss=[];for(var i=0,a=null,_57=_1.query("link");a=_57[i];i++){var rel=a.getAttribute("rel");if(rel&&rel.indexOf("style")!=-1&&!a.disabled){var h=a.getAttribute("href");if(h&&!ss[h]){ss[h]=h;}}}var _5a=/@import\s*['"]?([\t\s\w-()\/.\\:#=&?]+)/i;var _5b=/url\(\s*([\t\s\w()\/.\\'"-:#=&?]+)\s*\)/i;for(var i=0,a=null,_57=_1.query("style");a=_57[i];i++){var _5c=a.getAttribute("type");var _5d=a.getAttribute("media");if(_5c&&_5c.toLowerCase()=="text/css"&&(!_5d||_5d.toLowerCase()!="print")&&!a.disabled&&a.innerHTML.indexOf("@import")!=-1){var _5e=_5a.exec(a.innerHTML);if(_5e&&_5e.length>1){var str=_5e[1].replace(/(^\s*|\s*$)/g,"");_5e=_5b.exec(str);if(_5e&&_5e.length>1){str=_5e[1].replace(/(^\s*|\s*$)/g,"");}if(!ss[str]){ss[str]=str;}}}}var _60=location.protocol+"//"+location.host;this._styleSheets=[];for(var k in ss){this._styleSheets.push(_60+k);}this._textareaID=this.domNode.id;var cta=document.createElement("div");cta.className="resizable-textarea";_1.place(cta,this.domNode,"after");cta.appendChild(this.domNode);this._containerTextArea=cta;var _63=document.createElement("div");_63.className="grippie";cta.appendChild(_63);_1.connect(_63,"onmousedown",this,"_startDrag");var ce=document.createElement("div");ce.className="dijitEditor";_1.place(ce,cta,"after");_1.style(ce,"display","none");this._containerEditor=ce;if(this.showToggle){var a=document.createElement("a");a.href="#";a.innerHTML="Enable rich text editor";_1.connect(a,"onclick",this,"_toggleEditor");this._toggleLink=a;var d=document.createElement("div");d.appendChild(a);_1.place(d,ce,"after");}if(this.defaultState){this._toggleEditor();}},_toggleEditor:function(evt){if(evt){_1.stopEvent(evt);}if(this._editor){this._onEditorBlur();this._editor.destroy();this._editor=null;_1.style(this._containerTextArea,"display","");_1.style(this._containerEditor,"display","none");this._setToggleLink("Enable rich text editor");}else{this._containerEditor.innerHTML=this.domNode.value;_1.style(this._containerTextArea,"display","none");_1.style(this._containerEditor,"display","");this._editor=new dijit.Editor({toolbarAlwaysVisible:true,focusOnLoad:true,minHeight:"15em",height:"",plugins:this.plugins,extraPlugins:["dijit._editor.plugins.AlwaysShowToolbar"],editingAreaStyleSheets:this._styleSheets,contentPreFilters:[function(txt){return txt.replace(/\n/g,"<br/>");};],contentPostFilters:[function(txt){return txt.replace(/\<br\s*\/?\>/ig,"\n");};]},this._containerEditor);_1.query("html",this._editor.document)[0].className="dijitEditorInner";_1.connect(this._editor,"onBlur",this,"_onEditorBlur");setTimeout(_1.hitch(this,function(){this._editor.onClick();}),1000);this._setToggleLink("Disable rich text editor");}},_onEditorBlur:function(){var s=_1.isFunction(this._editor.getValue)?this._editor.getValue():this._editor.getEditorContent();this.domNode.value=s.replace(/contenteditable="true"/ig,"");},_setToggleLink:function(str){if(this._toggleLink){this._toggleLink.innerHTML=str;}},_startDrag:function(evt){_1.stopEvent(evt);this._offset=_1.coords(this.domNode).h-evt.pageY;_1.style(this.domNode,"opacity",0.25);this._mouseMove=_1.connect(document,"onmousemove",this,"_onDrag");this._mouseUp=_1.connect(document,"onmouseup",this,"_endDrag");},_onDrag:function(evt){this.domNode.style.height=Math.max(32,this._offset+evt.pageY)+"px";},_endDrag:function(){_1.disconnect(this._mouseMove);_1.disconnect(this._mouseUp);_1.style(this.domNode,"opacity",1);}});}if(!_1._hasResource["drupal.form.GoogleMapKeyTable"]){_1._hasResource["drupal.form.GoogleMapKeyTable"]=true;_1.provide("drupal.form.GoogleMapKeyTable");_1.declare("drupal.form.GoogleMapKeyTable",[dijit.form._FormWidget,dijit._Templated],{templateString:"<div><table class=\"dojoGoogleMapsKeyTable\" dojoAttachPoint=\"_table\"><thead><th colspan=\"2\">URL</th><th>Key</th></thead><tbody dojoAttachPoint=\"_tbody\"></tbody></table><div><a dojoAttachEvent=\"onclick:_addKey\" href=\"#\">Add new key</a></div><input type=\"hidden\" dojoAttachPoint=\"_saveField\" /></div>",_counter:0,_keys:[],_table:null,_tbody:null,_saveField:null,postCreate:function(){var _6d=this.srcNodeRef;this._saveField.name=_6d.name;this._saveField.id=_6d.id;this._saveField.value=_6d.value;var _6e=_6d.value.split("|");for(var i=0;i<_6e.length;i++){if(_6e[i].length){var p=_6e[i].indexOf(",");this._buildRow(_6e[i].substring(0,p),_6e[i].substring(p+1));}}this._displayTable();},_fillContent:function(){},_buildRow:function(key,url){var idx=this._counter++;var _74=document.createElement("td");_74.innerHTML="http:// ";var _75=document.createElement("td");_75.style.width="40%";_75.appendChild(this._buildInput("url",url,idx));var _76=document.createElement("td");_76.style.width="60%";_76.appendChild(this._buildInput("key",key,idx));var _77=document.createElement("td");var a=document.createElement("a");a.href="#";a.idx=idx;a.innerHTML="delete";_1.connect(a,"onclick",this,"_deleteKey");_77.appendChild(a);var tr=document.createElement("tr");tr.className=idx%2==0?"even":"odd";tr.appendChild(_74);tr.appendChild(_75);tr.appendChild(_76);tr.appendChild(_77);this._tbody.appendChild(tr);setTimeout(function(){_1.query(":last-child",_75)[0].focus();},100);this._keys.push({idx:idx,key:key,url:url,row:tr});},_buildInput:function(_7a,_7b,idx){var i=document.createElement("input");i.className="form-text";i.type="text";i.value=_7b;i.fieldType=_7a;i.idx=idx;_1.connect(i,"onblur",this,"_updateKey");return i;},_addKey:function(evt){_1.stopEvent(evt);this._buildRow("","");this._displayTable();},_deleteKey:function(evt){_1.stopEvent(evt);for(var i=0;i<this._keys.length;i++){if(this._keys[i].idx==evt.target.idx){_1._destroyElement(this._keys[i].row);this._keys.splice(i,1);}}var j=0;_1.query("tr",this._tbody).forEach(function(e){e.className=j++%2==0?"even":"odd";});this._serialize();this._displayTable();},_displayTable:function(){_1.style(this._table,"display",this._keys.length>0?"":"none");},_updateKey:function(evt){var t=evt.target;for(var i=0;i<this._keys.length;i++){if(this._keys[i].idx==t.idx){this._keys[i][t.fieldType]=_1.string.trim(t.value);this._serialize();break;}}},_serialize:function(){var b="";for(var i=0;i<this._keys.length;i++){this._keys[i].key=_1.string.trim(this._keys[i].key);this._keys[i].url=_1.string.trim(this._keys[i].url);if(this._keys[i].key.length||this._keys[i].url.length){b+=(b.length?"|":"")+this._keys[i].key+","+this._keys[i].url;}}this._saveField.value=b;}});}if(!_1._hasResource["drupal.form.SvnTree"]){_1._hasResource["drupal.form.SvnTree"]=true;_1.provide("drupal.form.SvnTree");_1.declare("drupal.form.SvnTree",dijit._Widget,{_tree:null,postCreate:function(){var _88=this;var _89="dojoSvnTreeFolderOpened";var _8a="dojoSvnTreeFolderClosed";var d=document.createElement("div");_1.place(d,this.domNode,"after");this._tree=new dijit.Tree({query:{type:"dir"},labelAttr:"name",typeAttr:"type",store:new drupal.data.SvnStore({url:"/dojo/svn"}),getIconClass:function(){return _8a;}},d);_1.connect(this._tree,"addChild",this,"_createToolTip");_1.subscribe(this._tree.id,null,function(e){var n=e.node;if(/^toggleOpen$|^zoomIn$|^zoomOut$/i.test(e.event)){var b=(n.isExpanded||/loading/i.test(n.state));_1.removeClass(n.iconNode,b?_8a:_89);_1.addClass(n.iconNode,b?_89:_8a);}else{if(e.event=="execute"){_88.domNode.value=n.item.id;}}});_1.addClass(this._tree.domNode,"dojoSvnTree");},_createToolTip:function(_8f){var d=document.createElement("div");d.innerHTML="<div><strong>"+_8f.label+"</strong></div><div>Revision: "+_8f.item.revision+"</div><div>Author: "+_8f.item.author+"</div><div>Date: "+_8f.item.date+"</div>";_1.style(d,"display","none");_1.place(d,self.domNode,"after");_8f.labelNode.id="node"+Math.round(Math.random()*10000000);var t=new dijit.Tooltip({connectId:_8f.labelNode.id},d);_1.connect(_8f,"addChild",this,"_createToolTip");}});}if(!_1._hasResource["drupal.layout.CollapsiblePane"]){_1._hasResource["drupal.layout.CollapsiblePane"]=true;_1.provide("drupal.layout.CollapsiblePane");_1.declare("drupal.layout.CollapsiblePane",dijit._Widget,{_wrapper:null,_animating:false,postCreate:function(){var _92=_1.query("legend",this.domNode)[0];var a=document.createElement("a");a.href="#";a.innerHTML=_92.innerHTML;_1.connect(a,"onclick",_1.hitch(this,function(evt){_1.stopEvent(evt);if(!this._animating){this._animating=true;this._toggleFieldset();}}));while(_92.firstChild){_1._destroyElement(_92.firstChild);}_92.appendChild(a);var d=document.createElement("div");d.className="fieldset-wrapper";_1.style(d,"display",_1.hasClass(this.domNode,"collapsed")?"none":"");var _96=this.domNode.childNodes;for(var j=0;j<_96.length;j++){if(_96[j].nodeType!=1||!/legend/i.test(_96[j].nodeName)){d.appendChild(_96[j--]);}}this.domNode.appendChild(d);this._wrapper=d;},_toggleFieldset:function(){var n=this.domNode;if(_1.hasClass(n,"collapsed")){n.className=n.className.replace(/ collapsed/i,"");var _99=_1.fx.wipeIn({node:this._wrapper,duration:300});_1.connect(_99,"onEnd",_1.hitch(this,function(){this._wrapper.style.height="auto";this._scrollIntoView();this._animating=false;}));_1.connect(_99,"onAnimate",this,"_scrollIntoView");_99.play();}else{var _99=_1.fx.wipeOut({node:this._wrapper,duration:300});_1.connect(_99,"onEnd",_1.hitch(this,function(){n.className+=" collapsed";this._animating=false;}));_99.play();}},_scrollIntoView:function(){var n=this.domNode;var vh=dijit.getViewport().height;var c=_1.coords(n,true);var ny=c.y;var nh=c.height;if(ny+nh+55>vh+_1._docScroll().top){window.scrollTo(0,(nh>vh?ny:ny+nh-vh+55));}}});}if(!_1._hasResource["drupal.drupal"]){_1._hasResource["drupal.drupal"]=true;_1.provide("drupal.drupal");}}});